<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        // IMMEDIATE THEME & LANGUAGE APPLICATION
        // This script runs synchronously and applies the theme and language
        // before the browser paints the body, preventing FOUC (Flash Of Unstyled Content).
        (function() {
            const isFirstVisit = !localStorage.getItem('hasVisited');

            if (isFirstVisit) {
                localStorage.setItem('language', 'en'); // Default to English on first visit
                localStorage.setItem('theme', 'light'); // Default to light theme on first visit
                localStorage.setItem('hasVisited', 'true');
            }

            const storedTheme = localStorage.getItem('theme') || 'light';
            const storedLanguage = localStorage.getItem('language') || 'en';

            document.documentElement.setAttribute('data-theme', storedTheme);
            document.documentElement.lang = storedLanguage;
        })();
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="pageTitleContact">Marius Jomphe - Contact</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Light Theme (Default) */
            --bg-color: #f4f7f6;
            --text-color: #1a1a1a;
            --header-bg-color: #ffffff;
            --nav-link-color: #333333;
            --nav-link-hover-color: #000000;
            --placeholder-bg-color: #ffffff;
            --button-bg-color: #e0e0e0;
            --button-text-color: #1a1a1a;
            --button-hover-bg-color: #c7c7c7;
            --base-font-size: 16px;
            --base-spacing: 1rem;
            
            /* Email Button Colors for Light Theme (Dark button on light background) */
            --email-button-bg: #1a1a1a; /* Black */
            --email-button-text: #f4f7f6; /* White */
            --email-button-hover-bg: #333333; /* Darker grey on hover */
        }

        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --text-color: #f4f7f6;
            --header-bg-color: #2c2c2c;
            --nav-link-color: #e0e0e0;
            --nav-link-hover-color: #ffffff;
            --placeholder-bg-color: #000000;
            --button-bg-color: #444444;
            --button-text-color: #f4f7f6;
            --button-hover-bg-color: #5a5a5a;

            /* Email Button Colors for Dark Theme (Light button on dark background) */
            --email-button-bg: #f4f7f6; /* White */
            --email-button-text: #1a1a1a; /* Black */
            --email-button-hover-bg: #c7c7c7; /* Lighter grey on hover */
        }

        /* Base Styles */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: var(--base-font-size);
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
            margin-bottom: calc(var(--base-spacing) * 0.75);
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        a {
            color: var(--nav-link-hover-color);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        a:hover {
            text-decoration: underline;
        }

        .container {
            width: 90%;
            max-width: 1800px;
            margin: 0 auto;
            padding: var(--base-spacing);
        }

        /* Header Styles */
        .site-header {
            background-color: var(--header-bg-color);
            padding: var(--base-spacing) 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: background-color 0.3s ease;
        }

        .site-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            font-size: clamp(1.5rem, 2.5vw, 2.2rem);
            font-weight: 700;
            color: var(--text-color);
        }

        .main-nav ul {
            list-style: none;
            display: flex;
            gap: calc(var(--base-spacing) * 1.5);
        }

        .main-nav a {
            font-weight: 500;
            font-size: clamp(0.9rem, 1.5vw, 1.1rem);
            color: var(--nav-link-color);
            padding: calc(var(--base-spacing) * 0.5) 0;
            position: relative;
            text-transform: uppercase; /* Add this line */
        }
        .main-nav a.active {
            color: var(--text-color);
            font-weight: 700;
        }

        .main-nav a.active::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            display: block;
            margin-top: 5px;
            left: 0;
            background: var(--text-color);
        }

        .main-nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            display: block;
            margin-top: 5px;
            right: 0;
            background: var(--nav-link-hover-color);
            transition: width 0.3s ease;
        }
        .main-nav a:hover::after {
            width: 100%;
            left: 0;
            background: var(--nav-link-hover-color);
        }
        .main-nav a:hover {
            color: var(--nav-link-hover-color);
            text-decoration: none;
        }

        .controls {
            display: flex;
            align-items: center;
            gap: calc(var(--base-spacing) * 1.5);
        }

        .control-button {
            background: none;
            border: none;
            font-weight: 500;
            font-size: clamp(0.9rem, 1.5vw, 1.1rem);
            color: var(--nav-link-color);
            padding: calc(var(--base-spacing) * 0.5) 0;
            position: relative;
            cursor: pointer;
            transition: color 0.2s ease;

            /* Additions for stable width and alignment */
             /* Additions for stable width and alignment */
             display: inline-block;
            min-width: auto;
        }

        .control-button::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            display: block;
            margin-top: 5px;
            right: 0;
            background: var(--nav-link-hover-color);
            transition: width 0.3s ease;
        }

        .control-button:hover {
            color: var(--nav-link-hover-color);
        }

        .control-button:hover::after {
            width: 100%;
            left: 0;
            background: var(--nav-link-hover-color);
        }

        [data-theme="dark"] .control-button {
            color: var(--nav-link-color);
        }

        /* Contact Page Specific Styles */
        .contact-section .container {
            padding-top: calc(var(--base-spacing) * 2);
            padding-bottom: calc(var(--base-spacing) * 0);
            max-width: 1000px;
            text-align: center;
        }

        .contact-page-title {
            text-align: center;
            margin-bottom: calc(var(--base-spacing) * 2.5);
            font-size: clamp(1.8rem, 3vw, 2.5rem);
        }

        .contact-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 25vh;
        }

        .contact-text {
            font-size: clamp(0.9rem, 1.6vw, 1.2rem); /* Scaled down further for smaller text */
            margin-bottom: calc(var(--base-spacing) * 2);
            text-align: center;
        }

        /* New Email Button Styles */
        .email-button {
            background-color: var(--email-button-bg);
            color: var(--email-button-text);
            border: none;
            padding: 0.8rem 1.5rem;
            font-size: clamp(1rem, 1.8vw, 1.2rem);
            font-weight: 600;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            display: inline-flex; /* Use flex to align icon and text */
            align-items: center;
            gap: 0.5rem; /* Space between icon and text */
            text-decoration: none; /* Remove underline for anchor tag acting as button */
        }

        .email-button:hover {
            background-color: var(--email-button-hover-bg);
            transform: translateY(-2px);
            text-decoration: none; /* Keep no underline on hover */
        }

        .email-button:active {
            transform: translateY(0);
        }

        /* Footer Styles */
        .site-footer {
            text-align: center;
            padding: calc(var(--base-spacing) * 1) 0;
            margin-top: calc(var(--base-spacing) * 2);
            border-top: 1px solid var(--button-bg-color);
            font-size: clamp(0.8rem, 1.2vw, 0.9rem);
        }

        .site-footer .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: calc(var(--base-spacing) * 0.5);
        }

        .artist-signature {
            margin-top: calc(var(--base-spacing) * 0.5);
            margin-bottom: calc(var(--base-spacing) * 0.5);
        }

        .artist-signature img {
            max-width: 300px;
            height: auto;
            opacity: 0.4;
            transition: opacity 0.3s ease;
            display: none; /* Hide all signatures by default */
        }

        /* Show light signature for light theme */
        html[data-theme="light"] .artist-signature .signature-light {
            display: block; /* Show the light signature */
        }

        /* Show dark signature for dark theme */
        html[data-theme="dark"] .artist-signature .signature-dark {
            display: block; /* Show the dark signature */
        }

        .artist-signature a {
            text-decoration: none; /* Remove underline from link */
            display: inline-block; /* Ensures the link wraps the image appropriately */
        }

        .artist-signature a:hover {
            text-decoration: none; /* Ensure no underline on hover */
        }

        /* Responsive Adjustments */
        @media (max-width: 480px) {
            .site-header .container {
                flex-direction: column;
                gap: calc(var(--base-spacing) * 0.5);
            }
            .main-nav ul {
                gap: var(--base-spacing);
                justify-content: center;
                flex-wrap: wrap;
            }
            .controls {
                margin-top: calc(var(--base-spacing) * 0.5);
            }
        }

        @media (min-width: 1200px) {
            :root {
                --base-font-size: 17px;
            }
        }

        @media (min-width: 2000px) {
            :root {
                --base-font-size: 20px;
            }
            .container {
                max-width: 2400px;
            }
            .logo {
                font-size: 2.8rem;
            }
            .main-nav a {
                font-size: 1.4rem;
            }
            .control-button {
                padding: calc(var(--base-spacing) * 0.7) calc(var(--base-spacing) * 1.2);
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo" data-lang-key="siteTitle">Marius Jomphe</div>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html" data-lang-key="navImages">Images</a></li>
                    <li><a href="about.html" data-lang-key="navAbout">About</a></li>
                    <li><a href="contact.html" class="active" data-lang-key="navContact">Contact</a></li>
                </ul>
            </nav>
            
            <div class="controls">
                <button id="themeToggle" class="control-button" aria-label="Toggle theme">
                    üåì <span data-lang-key="themeToggleDark">Dark Mode</span>
                    <span data-lang-key="themeToggleLight" style="display:none;">Light Mode</span>
                </button>
                
                <button id="languageToggle" class="control-button" aria-label="Toggle language">
                    üåê English
                </button>
            </div>
        </div>
    </header>

    <main>
        <section class="contact-section">
            <div class="container">
                <h1 class="contact-page-title" data-lang-key="contactHeading">Contact</h1>
                
                <div class="contact-content">
                    <p class="contact-text" data-lang-key="contactText">For any questions, collaboration requests, exhibition proposals, or use of the works, do not hesitate to contact the artist directly. He will be pleased to discuss with you. Thank you for your interest.</p>
                    <a href="mailto:mariusjomphe52@gmail.com" class="email-button" data-lang-key="emailButtonText">‚úâÔ∏è Email</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="artist-signature">
                <a href="contact.html" aria-label="Contact the artist - signature link">
                    <img src="images/signaturelt.png" alt="Artist Signature (Light Theme)" class="signature-light" id="signatureLight">
                    <img src="images/signaturedt.png" alt="Artist Signature (Dark Theme)" class="signature-dark" id="signatureDark">
                </a>
            </div>
            <p>&copy; <span id="currentYear"></span> - <span data-lang-key="footerRights">All rights reserved.</span></p>
        </div>
    </footer>

    <script>
        // Highlight active nav link based on current URL
        document.querySelectorAll('.main-nav a').forEach(link => {
            const currentPath = window.location.pathname;
            const linkPath = link.getAttribute('href');
            // Check if the current path ends with the link's href, or if it's the root and the link is index.html
            if (currentPath.endsWith(linkPath) || (currentPath === '/' && linkPath === 'index.html')) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            // --- TRANSLATIONS ---
            const translations = {
                en: {
                    siteTitle: "Marius Jomphe - Photography",
                    pageTitleContact: "Marius Jomphe - Contact",
                    navImages: "GALLERY",
                    navAbout: "ABOUT",
                    navContact: "CONTACT",
                    themeToggleDark: "DARK THEME",
                    themeToggleLight: "LIGHT THEME",
                    languageToggleText: "üåê FRAN√áAIS",
                    footerRights: "All rights reserved.",
                    contactHeading: "Contact",
                    contactText: "For any questions, collaboration requests, acquisition, exhibition proposals, or use of the works, do not hesitate to contact the artist directly. He will be pleased to discuss with you. Thank you for your interest.",
                    emailButtonText: "Write to the artist"
                },
                fr: {
                    siteTitle: "Marius Jomphe - Photographie",
                    pageTitleContact: "Marius Jomphe - Contact",
                    navImages: "GALERIE",
                    navAbout: "√Ä PROPOS",
                    navContact: "CONTACT",
                    themeToggleDark: "TH√àME SOMBRE",
                    themeToggleLight: "TH√àME CLAIR",
                    languageToggleText: "üåê ENGLISH",
                    footerRights: "Tous droits r√©serv√©s.",
                    contactHeading: "Contact",
                    contactText: "Pour toute question, demande de collaboration, acquisition, proposition d‚Äôexposition ou utilisation des ≈ìuvres, n‚Äôh√©sitez pas √† contacter l‚Äôartiste directement. Il se fera un plaisir d‚Äô√©changer avec vous. Merci pour votre int√©r√™t.",
                    emailButtonText: "√âcrire √† l'artiste"
                }
            };

            // --- ELEMENTS ---
            const themeToggleButton = document.getElementById('themeToggle');
            const languageToggleButton = document.getElementById('languageToggle');
            const currentYearSpan = document.getElementById('currentYear');
            
            let currentLanguage = localStorage.getItem('language') || 'en';
            let currentTheme = localStorage.getItem('theme') || 'light';

            // --- FUNCTIONS ---

            function applyTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme); // Apply to html tag
                localStorage.setItem('theme', theme);
                if (themeToggleButton) {
                    const toggleDarkText = themeToggleButton.querySelector('[data-lang-key="themeToggleDark"]');
                    const toggleLightText = themeToggleButton.querySelector('[data-lang-key="themeToggleLight"]');
                    if (toggleDarkText && toggleLightText) {
                        if (theme === 'dark') {
                            toggleDarkText.style.display = 'none';
                            toggleLightText.style.display = 'inline';
                        } else {
                            toggleDarkText.style.display = 'inline';
                            toggleLightText.style.display = 'none';
                        }
                    }
                }
            }

            function applyLanguage(lang) {
                currentLanguage = lang;
                localStorage.setItem('language', lang);
                document.documentElement.lang = lang; // Ensure HTML lang attribute is updated
                document.querySelectorAll('[data-lang-key]').forEach(el => {
                    const key = el.dataset.langKey;
                    if (translations[lang] && translations[lang][key]) {
                        if (el.tagName === 'TITLE') {
                            document.title = translations[lang][key];
                        } else {
                            el.textContent = translations[lang][key];
                        }
                    }
                });
                if (languageToggleButton) {
                    languageToggleButton.textContent = translations[lang]?.languageToggleText || (lang === 'en' ? 'üåê FRAN√áAIS' : 'üåê ENGLISH');
                }
                // Re-apply theme to ensure any language-dependent theme visuals update correctly
                applyTheme(currentTheme); 
            }

            // --- INITIALIZATION ON DOMContentLoaded ---

            // Footer Year
            if (currentYearSpan) {
                currentYearSpan.textContent = new Date().getFullYear();
            }

            // Apply theme and language based on localStorage after DOM is ready
            // The very first script in head already sets data-theme and lang on <html> for FOUC prevention.
            // These calls ensure that buttons and dynamic text are updated correctly.
            applyTheme(currentTheme); 
            applyLanguage(currentLanguage);

            // --- EVENT LISTENERS ---
            if (themeToggleButton) {
                themeToggleButton.addEventListener('click', () => {
                    currentTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
                    applyTheme(currentTheme);
                    applyLanguage(currentLanguage); // Re-apply language to update theme-dependent button text
                });
            }

            if (languageToggleButton) {
                languageToggleButton.addEventListener('click', () => {
                    const newLang = currentLanguage === 'en' ? 'fr' : 'en';
                    applyLanguage(newLang);
                });
            }
        });
    </script>
</body>
</html>
